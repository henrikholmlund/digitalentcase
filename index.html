<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <link rel="stylesheet" href="dist/css/bundle.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="image-home">
        <img src="src/images/house-64.png" alt="" />
      </div>
      <div class="search-box">
        <input
          autocomplete="off"
          autocorrect="off"
          spellcheck="false"
          type="search"
          value=""
          class="search"
        />
        <img src="src/images/white-search-icon-transparent-background-6.jpg" />
      </div>
      <div class="center-logo"><h2>oTrello</h2></div>
      <ul class="suggestions"></ul>
    </header>
    <div class="container">
      <div class="container-canvas">
        <div class="wrapper">
          <h2>Kontakt</h2>
          <div
            class="people"
            id="contact"
            ondrop="drop_handler(event, this);"
            ondragover="dragover_handler(event);"
          ></div>
          <form class="add-person">
            <input type="text" name="name" placeholder="Namn" required />
            <input type="text" name="age" placeholder="Ålder" required />
            <input type="text" name="email" placeholder="Email" required />
            <input type="text" name="address" placeholder="Adress" required />
            <input type="text" name="image" placeholder="Bild" required />
            <select class="stage-select" name="stage">
              <option value="">-Rekryteringssteg-</option>
              <option value="Kontakt" selected>Kontakt</option>
              <option value="Dialog">Dialog</option>
              <option value="Intervju">Intervju</option>
              <option value="Erbjudande">Erbjudande</option>
              <option value="Avslutad">Avslutad</option>
            </select>
            <input type="submit" value="+ Lägg till" />
          </form>
        </div>
        <div class="wrapper">
          <h2>Dialog</h2>
          <div
            class="people"
            id="dialogue"
            ondrop="drop_handler(event, this);"
            ondragover="dragover_handler(event);"
          ></div>
          <form class="add-person">
            <input type="text" name="name" placeholder="Namn" required />
            <input type="text" name="age" placeholder="Ålder" required />
            <input type="text" name="email" placeholder="Email" required />
            <input type="text" name="address" placeholder="Adress" required />
            <input type="text" name="image" placeholder="Bild" required />
            <select class="stage-select" name="stage">
              <option value="">-Rekryteringssteg-</option>
              <option value="Kontakt">Kontakt</option>
              <option value="Dialog" selected>Dialog</option>
              <option value="Intervju">Intervju</option>
              <option value="Erbjudande">Erbjudande</option>
              <option value="Avslutad">Avslutad</option>
            </select>
            <input type="submit" value="+ Lägg till" />
          </form>
        </div>
        <div class="wrapper">
          <h2>Intervju</h2>
          <div
            class="people"
            id="interview"
            ondrop="drop_handler(event, this);"
            ondragover="dragover_handler(event);"
          ></div>
          <form class="add-person">
            <input type="text" name="name" placeholder="Namn" required />
            <input type="text" name="age" placeholder="Ålder" required />
            <input type="text" name="email" placeholder="Email" required />
            <input type="text" name="address" placeholder="Adress" required />
            <input type="text" name="image" placeholder="Bild" required />
            <select class="stage-select" name="stage">
              <option value="">-Rekryteringssteg-</option>
              <option value="Kontakt">Kontakt</option>
              <option value="Dialog">Dialog</option>
              <option value="Intervju" selected>Intervju</option>
              <option value="Erbjudande">Erbjudande</option>
              <option value="Avslutad">Avslutad</option>
            </select>
            <input type="submit" value="+ Lägg till" />
          </form>
        </div>
        <div class="wrapper">
          <h2>Erbjudande</h2>
          <div
            class="people"
            id="offer"
            ondrop="drop_handler(event, this);"
            ondragover="dragover_handler(event);"
          ></div>
          <form class="add-person">
            <input type="text" name="name" placeholder="Namn" required />
            <input type="text" name="age" placeholder="Ålder" required />
            <input type="text" name="email" placeholder="Email" required />
            <input type="text" name="address" placeholder="Adress" required />
            <input type="text" name="image" placeholder="Bild" required />
            <select class="stage-select" name="stage">
              <option value="">-Rekryteringssteg-</option>
              <option value="Kontakt">Kontakt</option>
              <option value="Dialog">Dialog</option>
              <option value="Intervju">Intervju</option>
              <option value="Erbjudande" selected>Erbjudande</option>
              <option value="Avslutad">Avslutad</option>
            </select>
            <input type="submit" value="+ Lägg till" />
          </form>
          <span class="add-person-dialogue">+ Lägg till ett kort till</span>
        </div>
        <div class="wrapper">
          <h2>Avslut</h2>
          <div
            class="people"
            id="termination"
            ondrop="drop_handler(event, this);"
            ondragover="dragover_handler(event);"
          ></div>
          <form class="add-person">
            <input type="text" name="name" placeholder="Namn" required />
            <input type="text" name="age" placeholder="Ålder" required />
            <input type="text" name="email" placeholder="Email" required />
            <input type="text" name="address" placeholder="Adress" required />
            <input type="text" name="image" placeholder="Bild" required />
            <select class="stage-select" name="stage">
              <option value="">-Rekryteringssteg-</option>
              <option value="Kontakt">Kontakt</option>
              <option value="Dialog">Dialog</option>
              <option value="Intervju">Intervju</option>
              <option value="Erbjudande">Erbjudande</option>
              <option value="Avslutad" selected>Avslutad</option>
            </select>
            <input type="submit" value="+ Lägg till" />
          </form>
        </div>
      </div>
    </div>
    <script src="https://www.gstatic.com/firebasejs/6.1.1/firebase.js"></script>
    <script src="dist/js/bundle.js"></script>
    <script>
      //Get the dynamically created buttons with a live HTML-collection (getElementsByTagName)
      const col = document.querySelector('.container-canvas');
      const colbuttons = col.getElementsByTagName('button');
      //Make this into an array to be able to loop through
      const colbuttonsArray = [...colbuttons];

      colbuttonsArray.forEach(col => {
        if (col.classList.contains('change-button')) {
          col.addEventListener('click', updateCandidate);
        } else if (col.classList.contains('delete-button')) {
          col.addEventListener('click', deleteCandidate);
        }
      });

      const allAddPersonButtons = document.querySelectorAll(
        '.add-person-dialogue'
      );

      function toggleFoldout(e) {
        console.log(this);
        const myParentDiv = this.parentNode.querySelector('form');
        console.log(myParentDiv);
        myParentDiv.classList.toggle('add-person_open');
      }

      allAddPersonButtons.forEach(button =>
        button.addEventListener('click', toggleFoldout)
      );
    </script>
  </body>
</html>
